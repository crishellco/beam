class e{constructor(){this._listeners=new Map}on(e,t){const s=this._listeners.get(e);s?s.push(t):this._listeners.set(e,[t])}off(e,t){const s=this._listeners.get(e);s&&(t?s.indexOf(t)>-1&&s.splice(s.indexOf(t),1):this._listeners.set(e,[]))}once(e,t){const s=(...n)=>{t(...n),this.off(e,s)};this.on(e,s)}emit(e,t={}){const s=(this._listeners.get(e)||[]).concat(this._listeners.get("*")||[]);s.length&&s.slice().map(s=>{s(t,e)})}debouncedEmit(e,t){return((e,t)=>{let s=null;return(...n)=>{clearTimeout(s),s=setTimeout(()=>{e.apply(null,n)},t)}})(e=>this.emit(t,e),e)}removeAllListeners(){this._listeners.clear()}get listeners(){return Object.fromEntries(this._listeners)}}const t=new Map;function s(s="default"){let n=t.get(s);return n||(n=new e,t.set(s,n),n)}export{e as Beam,s as default};
//# sourceMappingURL=beam.modern.mjs.map
